angular.module("app").controller("TodoController",["$scope","$state","Todo","LoopBackAuth",function(o,n,e,t){function d(){e.find({filter:{include:"owner"}}).$promise.then(function(n){o.todos=n})}o.todos=[],d(),o.addTodo=function(){var n=o.newTodo||{};n.ownerId=t.currentUserId,e.create(o.newTodo).$promise.then(function(n){o.newTodo="",o.todoForm.content.$setPristine(),$(".focus").focus(),d()})},o.removeTodo=function(o){e.deleteById(o).$promise.then(function(){d()})}}]);